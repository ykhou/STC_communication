C51 COMPILER V9.54   BIN                                                                   01/09/2019 09:17:12 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE BIN
OBJECT MODULE PLACED IN .\bin.obj
COMPILER INVOKED BY: D:\Program Files (x86)\keil\C51\BIN\C51.EXE ..\system\bin\bin.c LARGE OPTIMIZE(8,SPEED) BROWSE INCD
                    -IR(..\hardware\chuankou;..\hardware\dongtai;..\hardware\flash;..\hardware\huanjing;..\hardware\led_key;..\hardware\paint
                    -;..\hardware\ruqing;..\hardware\touch_main;..\hardware\yaokong;..\hardware\zitai;..\main;..\system\bin;..\system\delay;.
                    -.\system\iic;..\system\interrupt;..\system\spi;..\system\stc;..\tft_touch_sd\font;..\tft_touch_sd\touch;..\tft_touch_sd\
                    -tft;..\tft_touch_sd\txt;..\hardware\peizhi;..\hardware\communicat;..\hardware\phonebook) DEBUG OBJECTEXTEND PRINT(.\bin.
                    -lst) TABS(2) OBJECT(.\bin.obj)

line level    source

   1          #include "STC15F2K60S2.h"
   2          #include "bin.h"
   3          #include "tft.h"
   4          #include "flash.h"
   5          
   6          /******************************
   7          ÏÔÊ¾Æ´Í¼ Í¼Æ¬
   8          ¿ÉÒÔÔÚÖ¸¶¨Î»ÖÃ ÏÔÊ¾Ö¸¶¨´óĞ¡µÄbinÍ¼Æ¬
   9          Í¨¹ı²É¼¯µ½µÄÃ¿¿éÆ´Í¼ËùÔÚµÄ¿ªÊ¼´ØºÅ 
  10          ½«ÆäÏÔÊ¾³öÀ´
  11          x1 y1ÆğÊ¼×ø±ê  width height ÏÔÊ¾µÄ¿í¶ÈºÍ¸ß¶È  
  12          
  13          cjdÎªÔÚÆ´Í¼ÎÄ¼ş¼ĞÀï ²É¼¯µÄÍ¼Æ¬¸öÊı ÊÇ°´Ë³ĞòÅÅÁĞµÄ Èç¹ûÊÇ0 ±íÊ¾Í¼Æ¬Áã 1Ôò±íÊ¾Í¼Æ¬1
  14             °ÑÕâ¸öÊı×ÖÖ±½Ó´øÈëµ½ doc_info.DOC_FstClusL[cjd]Àï ¾ÍµÃµ½Í¼Æ¬µÄ¿ªÊ¼´ØºÅ 
  15             ¸ù¾İÍ¼Æ¬µÄ¶ÔÓ¦´ØºÅ ÔÚSD¿¨Àï²É¼¯Í¼Æ¬µÄÏàÓ¦Êı¾İ
  16          *******************************/
  17          void DISP_BIN_PT_W25(unsigned int x1,unsigned int y1,unsigned int width,unsigned int height,unsigned long 
             -tReadAddr1,unsigned long tReadAddr2)
  18          {
  19   1        unsigned char tmp_Char_Model[2];
  20   1        unsigned long total=0;
  21   1        unsigned long i;
  22   1      //  unsigned long Temp_ClusL1,new_Sec1;
  23   1        unsigned int x,y;
  24   1      //  unsigned int i1;
  25   1        x=x1; y=y1;
  26   1      //  Temp_ClusL1= doc_info.PIC_FstClusL[cjd];         //½«Ê×´Ø¸³Öµ¸øÁÙÊ±±äÁ¿ 
  27   1      //  while(Temp_ClusL1!=0x0fffffff)                   //Ò»Ö±µ½×îºóÒ»´Ø
  28   1      //  {
  29   1      //    new_Sec1=Cluster_to_Sector(Temp_ClusL1);      //Ëã´ØºÅµÄÊ×ÉÈÇø  =(Ä³´ØºÅ-¸ùÄ¿Â¼´ØºÅ)*Ã¿´ØÉÈÇøÊı+¸ùÄ¿Â¼¿
             -ªÊ¼ÉÈÇøºÅ
  30   1      //    for(j1=0;j1<fat_info.BPB_perCluster_Sector_number;j1++)     //²éÃ¿´ØµÄËùÓĞÉÈÇø  Ã¿´ØÉÈÇøÊı ÓĞSD¿¨±¾Éí¾
             -ö¶¨
  31   1      //    {
  32   1      //       SD_read_sector(new_Sec1,buffer);               //¶ÁÒ»ÉÈÇøËùÓĞÊı¾İ 
  33   1      //        for(i1=0;i1<256;i1++)                          //È»ºóĞ´µ½Òº¾§ÆÁ£¬¿ÉÒÔÏÔÊ¾256¸öÏñËØ£¬Ã¿¸öÏñËØ16Î»¼
             -´2¸ö×Ö½Ú?Ò²¾ÍÊÇÃ¿Á½¸ö×Ö½ÚÄÜÏÔÊ¾Ò»¸öÏñËØµã 
  34   1      //        {  
  35   1      //        total+=2;
  36   1      //            if(total>doc_info.PIC_Filesize[cjd])return;  //ÅĞ¶ÏÊÇ·ñµ½×îºóÒ»´Ø  Èç¹ûÊÇ Ìø³öº¯Êı
  37   1            
  38   1        for(i=0;i<(tReadAddr2-tReadAddr1)/2;i++)
  39   1        {     
  40   2          Spi_PageRead(tmp_Char_Model,(unsigned long)tReadAddr1+i,2);
  41   2            TFT_AddressSet(x,y,x,y);                     //ÕâÀïÒ»¸öµãÒ»¸öµãµÄÏÔÊ¾ ÏÈÉ¨ºáĞĞ ÔÚÉ¨×İĞĞ    Òª·ûºÅBIN Éú
             -³É·½Ê½ ·ñÔò²úÉúÂÒÂë
  42   2             TFT_WR_DATA8(tmp_Char_Model[1],tmp_Char_Model[0]);
  43   2        
  44   2                x++;                //ºáÏò×Ô¼Ó ¼ÓÂúÒ»ĞĞ ºáÏòÇåÁã ×İÏò×Ô¼Ó Ö±µ½É¨ÍêÕû¸öÆÁÄ»
  45   2                if(x==width+x1)                         //¼ì²âÊÇ·ñĞ´µ½ÆÁµÄ±ßÔµ 240X320
C51 COMPILER V9.54   BIN                                                                   01/09/2019 09:17:12 PAGE 2   

  46   2                {  
  47   3                y++;
  48   3                x=x1;
  49   3                if(y==height+y1)  y=y1;             
  50   3                }
  51   2          i++;
  52   2        }
  53   1      //        j1=0;
  54   1      //      new_Sec1++;                 //ÉÈÇøÊı+1
  55   1      //    }
  56   1      //     Temp_ClusL1=FAT_seek_nextCluster(Temp_ClusL1);//ÔÚFAT±íÖĞ²éÕÒÏÂÒ»¸ö´ØºÅ   
  57   1      //   }
  58   1      }
  59          
  60          
  61          void DISP_BIN_PT(unsigned int x1,unsigned int y1,unsigned int width,unsigned int height,unsigned char *tmp
             -_Char_Model)
  62          {
  63   1        unsigned long len=width*height*2;//ÑÕÉ«Á½¸ö×Ö½Ú
  64   1        unsigned long i;
  65   1        unsigned int x,y;
  66   1        x=x1; y=y1;
  67   1            
  68   1        for(i=0;i<len/2;i++)
  69   1        {     
  70   2        
  71   2            TFT_AddressSet(x,y,x,y);                     //ÕâÀïÒ»¸öµãÒ»¸öµãµÄÏÔÊ¾ ÏÈÉ¨ºáĞĞ ÔÚÉ¨×İĞĞ    Òª·ûºÅBIN Éú
             -³É·½Ê½ ·ñÔò²úÉúÂÒÂë
  72   2            TFT_WR_DATA8(tmp_Char_Model[i*2+1],tmp_Char_Model[2*i]);
  73   2        //  TFT_WR_DATA8(0xf8,0);
  74   2      
  75   2                x++;                //ºáÏò×Ô¼Ó ¼ÓÂúÒ»ĞĞ ºáÏòÇåÁã ×İÏò×Ô¼Ó Ö±µ½É¨ÍêÕû¸öÆÁÄ»
  76   2                if(x==width+x1)                         //¼ì²âÊÇ·ñĞ´µ½ÆÁµÄ±ßÔµ 240X320
  77   2                {  
  78   3                  y++;
  79   3                  x=x1;
  80   3                  if(y==height+y1)  y=y1;             
  81   3                }
  82   2        }
  83   1      
  84   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    800    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----      53
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
